# âœˆï¸ Airline Data Pipeline â€“ Setup Guide

---

## 1ï¸âƒ£ AWS Configuration

- **Region:** ap-south-1 (Mumbai)
- **Workgroup:** default-workgroup
- **Namespace:** dev

---

# ğŸ—‚ 2ï¸âƒ£ S3 Buckets Setup

## ğŸ”¹ Landing Bucket

**Bucket Name:** `airline-landing-zn1`

### Folder Structure


### Description

| Folder | Purpose |
|--------|----------|
| `daily_files/` | Raw flight daily data files |
| `dim/` | Airport dimension files |
| `glue-temp/` | Temporary files generated by AWS Glue |

---

## ğŸ”¹ Redshift Output Bucket

**Bucket Name:** `redshift-tmpdata1`

| Folder | Purpose |
|--------|----------|
| `airline_dim/` | Processed dimension data for Redshift |
| `airline_fact/` | Processed fact data for Redshift |

---

# ğŸ•· 3ï¸âƒ£ AWS Glue Crawlers

| Crawler Name | Purpose | Target |
|--------------|----------|--------|
| `airline-dim-crawler` | Crawls airport dimension data | S3 dim/ folder |
| `airline_fact_crawler` | Crawls fact flight data | S3 daily_files/ |
| `flights_data_crawler1` | Crawls processed flight data | Processed S3 path |


All crawlers create metadata in AWS Glue Data Catalog.

---

# ğŸ—„ 4ï¸âƒ£ Glue Data Catalog

## Database Name:

## Tables Created:

| Table Name | Type |
|------------|------|
| `airports_dim` | Dimension Table |
| `daily_flights_fact` | Fact Table |

---

# ğŸ§® 5ï¸âƒ£ Amazon Redshift Setup

## Schema:

## Tables:

### ğŸ”¹ airports_dim

```sql
CREATE TABLE airlines.airports_dim (
    airport_id bigint ENCODE az64,
    city varchar(100) ENCODE lzo,
    state varchar(100) ENCODE lzo,
    name varchar(200) ENCODE lzo
)
DISTSTYLE AUTO;
CREATE TABLE airlines.daily_flights_fact (
    flight_id bigint,
    flight_date date,
    origin_airport_id bigint,
    dest_airport_id bigint,
    dep_delay int,
    arr_delay int
)
DISTSTYLE AUTO;
```

--- 
# ğŸ”„ 6ï¸âƒ£ Data Flow Architecture

```text
S3 (Landing Bucket: airline-landing-zn1)
        â†“
AWS Glue Crawler
        â†“
Glue Data Catalog (Database: dev)
        â†“
AWS Glue ETL Job
        â†“
S3 Processed (Bucket: redshift-tmpdata1)
        â†“
Amazon Redshift (Schema: airlines)
        â†“
Analytics & Reporting
```
---

# ğŸ” 7ï¸âƒ£ IAM Roles Used

| Service | Role Purpose |
|---------|--------------|
| Glue Service Role | Allows AWS Glue to read and write data in S3 and update the Glue Data Catalog |
| Redshift Service Role | Allows Amazon Redshift to COPY data from S3 buckets |
| Step Functions Role | Orchestrates Glue jobs, Redshift loads, and sends notifications (if workflow automation is used) |
### Folder Structure

